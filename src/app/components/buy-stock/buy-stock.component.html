<p-dialog header="Buy Stock" [(visible)]="visible" [modal]="true" (onHide)="onDialogClose()">
    <form [formGroup]="buyForm" (ngSubmit)="buyStock()">
      <div class="p-field">
        <label for="amount">Amount</label>
        <input type="number" id="amount" formControlName="dollarAmount" pInputText placeholder="Enter amount" />
        <div *ngIf="buyForm.controls['dollarAmount'].hasError('pattern')">
          Please enter a valid dollar amount (e.g., 1000 or 1000.99).
        </div>
      </div>
  
      <div *ngIf="errorMessage" class="error-message">
        {{ errorMessage }}
      </div>
  
      <p-progressSpinner *ngIf="loading" strokeWidth="4"></p-progressSpinner>
  
      <p-button label="Submit" type="submit" [disabled]="buyForm.invalid || loading"></p-button>
    </form>
  </p-dialog>
  