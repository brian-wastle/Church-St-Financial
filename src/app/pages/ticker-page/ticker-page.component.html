<div>
    <h2>{{this.tickerName}}</h2>
    <div *ngIf="tickerMetadata">
        <h4>{{this.tickerMetadata.sector}}</h4>
        <h4>{{this.tickerMetadata.industry}}</h4>
    </div>

    <div *ngIf="isLoading">
        <p-skeleton width="200px" height="50px" styleClass="mt-2"></p-skeleton>
        <br>
        <p-skeleton width="100%" height="300px"></p-skeleton>
    </div>

    <div *ngIf="errorMessage" class="error">
        {{ errorMessage }}
    </div>

    
    <div *ngIf="chartData">
        <div class="date-range-selector">
            <label for="range">Select Date Range:</label>
            <p-selectButton [options]="ranges" [formControl]="dateRangeFormControl" styleClass="custom-select-button"
                placeholder="Select a range">
            </p-selectButton>
        </div>

        <div style="width: 100%; position: relative;">
            <p-chart type="line" [data]="chartData" [options]="chartOptions" [height]="chartHeight"
                [width]="chartWidth">
            </p-chart>
        </div>
    </div>

    <div *ngIf="tickerMetadata">
        <p-fieldset legend="About">
            <p *ngIf="this.tickerMetadata.website; else noSiteFound">
                <a [href]="this.tickerMetadata.website" target="_blank">{{this.tickerMetadata.website}}</a>
            </p>
            <ng-template #noSiteFound>
                <h5>No website found.</h5>
            </ng-template>
            <p>{{this.tickerMetadata.description}}</p>

        </p-fieldset>
    </div>
</div>
